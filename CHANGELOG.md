# 更新日志

## [v0.2.1] - 2024-10-19

### 新增功能 ✨

#### 任务状态追踪
- ✅ 弟子列表显示当前执行的任务
  - 📋 空闲状态或任务名称
  - 一目了然知道每个弟子在做什么

#### 防止重复分配
- ✅ 一个弟子只能执行一个任务
  - 分配时自动排除已分配任务的弟子
  - 自动分配也会避免重复
  - 显示"空闲适合"和"忙碌中"的弟子

### 改进 🔧

#### 任务列表增强
- 区分显示空闲和忙碌的弟子
  - ✓ 空闲适合：可以立即分配
  - ⚠️ 忙碌中：正在执行其他任务
  - ❌ 没有适合的弟子

#### 用户体验
- 更清晰的任务分配提示
- 防止无效操作
- 更好的决策支持

### 技术变更
- `Disciple` 结构体新增 `current_task: Option<String>` 字段
- 任务分配逻辑增加重复检查
- 显示逻辑增强

---

## [v0.2.0] - 2024-10-19

### 新增功能 🎮

#### 交互式游戏模式
- ✅ 完整的回合制游戏循环
- ✅ 手动任务分配系统
  - 查看所有可用任务
  - 为每个任务选择合适的弟子
  - 自动分配和手动分配两种模式
  - 取消任务分配功能
- ✅ 渡劫决策系统
  - 显示渡劫成功率
  - 显示道心和传承加成
  - 玩家决定是否渡劫
- ✅ 信息查询功能
  - 查看宗门状态
  - 查看弟子详细信息
  - 查看任务列表和分配状态

#### 用户界面系统
- ✅ 清晰的菜单导航
- ✅ 彩色状态指示符（✅❌⚠️ℹ️）
- ✅ 友好的输入提示
- ✅ 屏幕清理和格式化输出
- ✅ 确认对话框
- ✅ 错误提示和输入验证

#### 游戏模式选择
- ✅ 启动时选择交互模式或自动模式
- ✅ 自定义宗门名称
- ✅ 自动模式可设置模拟年数

### 改进 🔧

#### 游戏平衡
- 任务成功率调整为80%
- 渡劫成功率计算更加合理
- 弟子招募概率优化

#### 代码结构
- 新增 `ui.rs` 模块处理用户交互
- 新增 `interactive.rs` 模块实现交互式游戏
- 改进模块划分和职责分离

### 文档 📚
- 新增 `INTERACTIVE_GUIDE.md` - 交互模式详细指南
- 更新 `README.md` - 添加游戏模式说明和快速开始
- 保留原有的 `GUIDE.md` 和 `ARCHITECTURE.md`

---

## [v0.1.0] - 2024-10-19

### 初始版本 🎉

#### 核心系统
- ✅ 修为系统（7个等级）
- ✅ 弟子系统（类型、资质、寿元、道心）
- ✅ 任务系统（5种任务类型）
- ✅ 地图系统（5种地图元素）
- ✅ 宗门管理（资源、声望、弟子）
- ✅ 事件系统（8种游戏事件）
- ✅ 渡劫系统（成功率计算、传承生成）

#### 自动模拟模式
- ✅ 完整的游戏循环
- ✅ 自动任务分配
- ✅ 胜负判定
- ✅ 统计信息显示

#### 文档
- ✅ README.md - 项目介绍
- ✅ GUIDE.md - 游戏玩法指南
- ✅ ARCHITECTURE.md - 架构设计文档

#### 技术特性
- 纯 Rust 实现
- 模块化设计
- 类型安全
- 事件驱动架构

---

## 未来计划 🚀

### v0.3.0 计划
- [ ] 游戏存档/读档功能
- [ ] 道侣系统实现
- [ ] 子女系统实现
- [ ] 更多随机事件
- [ ] 宗门建筑系统

### v0.4.0 计划
- [ ] GUI 界面（使用 egui）
- [ ] 成就系统
- [ ] 难度选择
- [ ] 更多修仙等级

### 长期计划
- [ ] 多人模式
- [ ] 联网对战
- [ ] 自定义MOD支持
- [ ] 更丰富的剧情

---

## 技术债务

### 已知问题
- 无

### 需要优化
- [ ] 任务分配算法优化
- [ ] 性能优化（大量弟子时）
- [ ] 错误处理改进

---

## 贡献者

- 主要开发：Claude (Anthropic)
- 游戏设计：用户提供的策划案

## 许可证

本项目为学习示例项目
